
# Домашнее задание
##Работа с загрузчиком

### Цель:
научиться попадать в систему без пароля;
устанавливать систему с LVM и переименовывать в VG;
добавлять модуль в initrd;


Описание/Пошаговая инструкция выполнения домашнего задания:
Для выполнения домашнего задания используйте методичку

[Работа с загрузчиком(]https://docs.google.com/document/d/1fRE_BFi-sFuLUUXKC8WHeGrFtPDXlTWznFgj3Z-xBM8/edit)

Попасть в систему без пароля несколькими способами.
Установить систему с LVM, после чего переименовать VG.
Добавить модуль в initrd.
(*). Сконфигурировать систему без отдельного раздела с /boot, а только с LVM
Репозиторий с пропатченым grub: https://yum.rumyantsev.com/centos/7/x86_64/
PV необходимо инициализировать с параметром --bootloaderareasize 1m

### Выполнение:
#### Попасть в систему без пароля несколькими способами.
Способ 1. init=/bin/sh и Способ 3. rw init=/sysroot/bin/sh относятся к debian системат
Добмашнее задание выполнялось на машине с Centos 7  поэтом был выбран способ 2:

1. В меню GRUB нажать клавишу `e`
2. В строке начинающейся с `linux16` заменяем ro на rw, удаляем параметры `rhgb` и `quiet` и добавляем `rd.break enforcing=0`
Нажмите CTRL + X чтобы продолжить загрузку
3. загрузаемся в корневую систему `chroot /sysroot`
4. меняем пароль `passwd root`
5. создаем файл для SELINUX `touch /.autorelabel`
6. выходим из окружения  `exit`
7. перезагружаемя `reboot`

#### Установить систему с LVM, после чего переименовать VG и добавить модуль в initrd.
Запустьи `Vagrantfile`.

#### (*)Сконфигурировать систему без отдельного раздела с /boot, а только с LVM
[Репозиторий](https://yum.rumyantsev.com/centos/7/x86_64/) недоступен, поэтому выполнить задание неполучится.